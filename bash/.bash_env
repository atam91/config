#!/bin/bash

# \a    an ASCII bell character (07)
# \d    дата в формате ”День_недели, Месяц, Число”.
# \e    an ASCII escape character (033)
# \h    имя хоста до первой точки.
# \H    имя хоста
# \j    количество задач, работающих в шелле в настоящее время
# \l    название терминала
# \n    переход на новую строку
# \r    возврат каретки на начало строки
# \s    название шелла (будет выведено, например, «bash»
# \t    время в 24-часовом формате (ЧЧ: MM: СС)
# \T    время в 12-часовом формате (ЧЧ: ММ: СС)
# \@    время в 12-часовом формате (AM/PM)
# \u    имя активного пользователя
# \v    номер версии bash
# \V    номер версии bash, номер релиза, номер патча
# \w    текущая директория (будет выведено в формате /path/to/work_dir_name)
# \W    имя текущей директории (будет выведено в формате «dir_name\»)
# \!    номер команды в истории
# \#    системный номер команды
# \$    if the effective UID is 0, a #, otherwise a $
# \\    обратный слэш
# \[    начало последовательности непечатаемых символов (см. примеры в разделе «Цвета и стилизация».
# \]    конец последовательности символов
# $ ( )         внешняя комманда

# 00m - сбросить цвет по умолчанию
# 0 Сбросить все атрибуты
# 1 Установить повышенную яркость
# 4 Включить подчеркивание
# 5 Включить мигание
# 7 Поменять местами цвет фона и цвет текста
# 8 Скрыть текст (цвет у текста установливается такой же, как и у фона)
# 30 Черный текст
# 31 Красный текст
# 32 Зеленый текст
# 33 Желтый текст
# 34 Синий текст
# 35 Пурпурный текст
# 36 Голубой текст
# 37 Белый текст
# 39 Цвет текста по умолчанию
# 40 Черный фон
# 41 Красный фон
# 42 Зеленый фон
# 43 Желтый фон
# 44 Синий фон
# 45 Розовый фон
# 46 Голубой фон
# 47 Белый фон
# 49 Цвет фона по умолчанию

# Рабочие такчки - жёлтый (33)
# Тестовые серваки - голубой (36)
# Продакшн серваки - синий (34)
# Инфраструктурные серваки - зелёный (32)

host=`hostname`
user=$USER

# take or create settings
if [ ! -f ~/.bash_envs/$host ]; then
    if [ -f /home/zh/.bash_envs/$host ]; then
        ln -s /home/zh/.bash_envs/$host ~/.bash_envs/$host
    else
        cp ~/.bash_envs/.default ~/.bash_envs/$host
    fi
fi
. ~/.bash_envs/$host

export PS1='\[\e[0;'$user_color'm\]\u\[\e[00m\]\[\e[0;'$at_color'm\]@\[\e[00m\]\[\e[0;'$host_color'm\]\h\[\e[00m\]\[\e[0;'$colon_color'm\]:\[\e[00m\]\[\e[0;'$path_color'm\]\w\[\e[00m\]\[\e[0;'$dollar_color'm\]\$\[\e[00m\] '
